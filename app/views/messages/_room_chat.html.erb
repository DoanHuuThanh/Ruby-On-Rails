<div id="mes_room_<%= room.id %>" class="mes flex flex-col h-96 w-full bg-white px-4 py-6">
  <div class="flex items-center py-4 px-6 rounded-2xl shadow relative">
    <div class="flex items-center justify-center h-10 w-10 rounded-full bg-pink-500 text-pink-100">
      G
    </div>
    <div class="flex flex-col ml-3">
      <div class="font-semibold text-sm"><%= room.name %></div>
    </div>
    <div data-show-id="<%=room.id%>" class="show-add-group absolute right-0 mr-20">
            <span class="flex items-center justify-center shadow-sm h-10 w-10 bg-red-500 text-white rounded-full">
              <svg class="w-6 h-6"
                   fill="none"
                   stroke="currentColor"
                   viewBox="0 0 24 24"
                   xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
              </svg>
            </span>
          </div>
  </div>


<div id="group-<%=room.id%>" class="group space-y-2 w-96 h-60 right-1/4  z-30 bg-pink-200 p-8 rounded-md absolute overflow-y-auto hidden">
  <strong class="close-add-group text-xl align-center cursor-pointer alert-del relative left-80 bottom-6">&times;</strong>
   <%@users.each do |user|%>
  <label class="flex items-center p-2 bg-white rounded-md">
    <input data-user-id="<%=user.id%>" type="checkbox" class="form-checkbox user-select">
    <span class="ml-2"><%=user.name%></span>
  </label>
   <%end%>
   <button data-group-id="<%=room.id%>" type="button" class="add-group hidden text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2">ThÃªm</button>
</div>



  <div id="message" class="mesa whitespace-break-words max-h-96 overflow-y-auto">
    <% room.messages.each do |message| %>
      <% if message.user_id == current_user.id %>
        <%= render 'messages/mine', message: message %>
      <% else %>
        <%= render 'messages/theirs', message: message %>
      <% end %>
    <% end %>
  </div>

  <%= form_with(model: message, local: true, html: { class: "form-mes-group", remote: true }) do |form| %>
    <%= form.hidden_field :conversation_id, value: room.id %>
    <div class="flex flex-row items-center">
      <div class="flex flex-row items-center w-full border rounded-3xl h-12 px-2">
                  <span id="audio-record-button" class="flex items-center justify-center h-10 w-10 text-gray-400 ml-1">
          <svg class="w-5 h-5"
               fill="none"
               stroke="currentColor"
               viewBox="0 0 24 24"
               xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
          </svg>
        </span>
         <%=form.file_field :attachments, class: "file-input file-input-bordered file-input-sm w-full max-w-xs hidden"%>
        <div class="w-full">
          <%= form.text_field :content, placeholder: "Type your message here...", class: 'border border-transparent w-full focus:outline-none text-sm h-10 flex items-center', placeholder: "Type your message...." %>
        </div>
        <div class="flex flex-row"></div>
      </div>
      <div class="ml-6">
        <button type="submit" class="flex items-center justify-center h-10 w-10 rounded-full bg-gray-200 hover:bg-gray-300 text-indigo-800 text-white">
          <svg class="w-5 h-5 transform rotate-90 -mr-px"
               fill="none"
               stroke="currentColor"
               viewBox="0 0 24 24"
               xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
          </svg>
        </button>
      </div>
    </div>
  <% end %>
</div>
